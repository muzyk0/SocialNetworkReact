(this["webpackJsonpsocial-network-react"]=this["webpackJsonpsocial-network-react"]||[]).push([[0],{11:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__BRHD6",dialogsItems:"Dialogs_dialogsItems__1aH1f",dialog:"Dialogs_dialog__1glHE",active:"Dialogs_active__3NWs5",messanges:"Dialogs_messanges__WVkjx"}},12:function(e,t,s){e.exports={sidebar:"Sidebar_sidebar__13B6p",active:"Sidebar_active__2WsD6",friendBlock:"Sidebar_friendBlock__2oXRU",friend:"Sidebar_friend__3Y_SH",name:"Sidebar_name__2Hl5y",imgProfilePhoto:"Sidebar_imgProfilePhoto__1UA-e"}},20:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__1qs7u",posts:"MyPosts_posts__tbkbY"}},27:function(e,t,s){e.exports={userPhoto:"UsersContainer_userPhoto__1HjXU",selectedPage:"UsersContainer_selectedPage__2syrM"}},28:function(e,t,s){e.exports={wrapper:"Preloader_wrapper__3XCPk",ldsHourglass:"Preloader_ldsHourglass__pzUo-","lds-hourglass":"Preloader_lds-hourglass__1hkv0"}},39:function(e,t,s){e.exports={header:"Header_header__2x0-v"}},40:function(e,t,s){e.exports={profile:"Profile_profile__CiwxZ"}},41:function(e,t,s){e.exports={profile_logo:"ProfileLogo_profile_logo__1nkul"}},42:function(e,t,s){e.exports={profileData:"ProfileData_profileData__3_er9"}},43:function(e,t,s){e.exports={item:"Post_item__2q3Eb"}},49:function(e,t,s){},54:function(e,t,s){},78:function(e,t,s){"use strict";s.r(t),s.d(t,"rerenderEntireTree",(function(){return me}));var n,a=s(1),r=s.n(a),i=(s(49),function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,79)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),r(e),i(e)}))}),c=s(16),o=s(15),l=s(3),u="ADD-POST",d="UPDATE-NEW-POST-TEXT",j={newPostText:"",posts:[{id:1,message:"Good this site",likesCount:10},{id:1,message:"Good this site",likesCount:10}]},g="SEND-MESSAGE",p="UPDATE_NEW_DIALOG_MESSAGE",b={newMessageBody:"",dialogs:[{id:1,name:"Dimych"},{id:2,name:"Nasty"},{id:3,name:"Vova"},{id:4,name:"Viktor"},{id:5,name:"Olya"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Dimych"}]},O={friends:[{id:1,name:"Dimych"},{id:2,name:"Nasty"},{id:3,name:"Vova"}]};!function(e){e.FOLLOW="FOLLOW",e.UNFOLLOW="UNFOLLOW",e.SET_USERS="SET_USERS",e.SET_CURRENT_PAGE="SET_CURRENT_PAGE",e.SET_TOTAL_USERS_COUNT="SET_TOTAL_USERS_COUNT",e.IS_FETCHING="IS_FETCHING"}(n||(n={}));var h={users:[],pageSize:10,totalCount:0,currentPage:1,isFetching:!1},f=Object(c.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var s={id:(new Date).getTime(),message:e.newPostText,likesCount:0},n=s.message;return n?Object(l.a)(Object(l.a)({},e),{},{posts:[].concat(Object(o.a)(e.posts),[s]),newPostText:""}):e;case d:return Object(l.a)(Object(l.a)({},e),{},{newPostText:t.newText});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var s={id:(new Date).getTime(),message:e.newMessageBody},n=e.newMessageBody.trim();return n?Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(o.a)(e.messages),[s]),newMessageBody:""}):e;case p:return Object(l.a)(Object(l.a)({},e),{},{newMessageBody:t.body});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;return t.type,e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.FOLLOW:return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(l.a)(Object(l.a)({},e),{},{followed:!0}):e}))});case n.UNFOLLOW:return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(l.a)(Object(l.a)({},e),{},{followed:!1}):e}))});case n.SET_USERS:return Object(l.a)(Object(l.a)({},e),{},{users:Object(o.a)(t.users)});case n.SET_CURRENT_PAGE:return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.currentPage});case n.SET_TOTAL_USERS_COUNT:return Object(l.a)(Object(l.a)({},e),{},{totalCount:t.totalCount});case n.IS_FETCHING:return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});default:return e}}}),m=Object(c.c)(f),x=s(18),_=s.n(x),v=(s(54),s.p+"static/media/logo.6ce24c58.svg"),P=s(39),S=s.n(P),T=s(0);var w=function(){return Object(T.jsx)("header",{className:S.a.header,children:Object(T.jsx)("img",{src:v,alt:""})})},C=s(40),N=s.n(C),y=s(41),E=s.n(y);var U=function(){return Object(T.jsx)("div",{className:E.a.profile_logo})},F=s(42),k=s.n(F),D=function(){return Object(T.jsx)("div",{className:k.a.profileData,children:Object(T.jsx)("img",{src:"https://d13ezvd6yrslxm.cloudfront.net/wp/wp-content/images/avatar-2-story.jpg",alt:"profile avatar"})})},L=s(20),I=s.n(L),M=s(43),A=s.n(M),B=function(e){return Object(T.jsxs)("div",{className:A.a.item,children:[Object(T.jsx)("img",{src:"https://d13ezvd6yrslxm.cloudfront.net/wp/wp-content/images/avatar-2-story.jpg",alt:"Logo with Profile"}),Object(T.jsx)("p",{children:e.message}),Object(T.jsxs)("p",{children:["Like ",e.likesCount]})]})},R=s(10),H=Object(R.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(){e({type:u})},updateNewPostText:function(t){e({type:d,newText:t})}}}))((function(e){var t=e.posts.map((function(e){return Object(T.jsx)(B,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return Object(T.jsxs)("div",{className:I.a.postsBlock,children:[Object(T.jsx)("h3",{children:"My Posts"}),Object(T.jsxs)("div",{className:I.a.new_post,children:[Object(T.jsx)("div",{children:Object(T.jsx)("textarea",{value:e.newPostText,onChange:function(t){var s=t.currentTarget.value;e.updateNewPostText(s)}})}),Object(T.jsx)("div",{children:Object(T.jsx)("button",{onClick:function(){e.addPost()},children:"Add post"})})]}),Object(T.jsx)("div",{className:I.a.posts,children:t})]})}));var G=function(){return Object(T.jsxs)("div",{className:N.a.profile,children:[Object(T.jsx)(U,{}),Object(T.jsx)(D,{}),Object(T.jsx)(H,{})]})},W=s(13),z=s(4),V=s(11),X=s.n(V),q=function(e){var t="/dialogs/".concat(e.id);return Object(T.jsx)("div",{className:"".concat(X.a.dialog),children:Object(T.jsx)(W.b,{to:t,activeClassName:X.a.active,children:e.name})})},J=function(e){return Object(T.jsx)("div",{className:X.a.message,children:e.message})};var Y=function(e){var t=e.dialogsPage,s=t.dialogs.map((function(e){return Object(T.jsx)(q,{name:e.name,id:e.id},e.id)})),n=t.messages.map((function(e){return Object(T.jsx)(J,{message:e.message},e.id)})),a=t.newMessageBody;return Object(T.jsxs)("div",{className:X.a.dialogs,children:[Object(T.jsx)("div",{className:X.a.dialogsItems,children:s}),Object(T.jsxs)("div",{className:X.a.messages,children:[n,Object(T.jsx)("div",{children:Object(T.jsx)("textarea",{placeholder:"Enter your message",value:a,onChange:function(t){var s=t.currentTarget.value;e.updateNewMessageBody(s)}})}),Object(T.jsx)("div",{children:Object(T.jsx)("button",{onClick:function(){e.onSendMessage()},children:"Send message"})})]})]})},Z=Object(R.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{onSendMessage:function(){e({type:g})},updateNewMessageBody:function(t){e({type:p,body:t})}}}))(Y),K=s(12),Q=s.n(K),$=function(e){var t=e.friends.map((function(e){return Object(T.jsx)(ee,{id:e.id,name:e.name},e.id)}));return Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Friends"}),Object(T.jsx)("div",{className:Q.a.friendBlock,children:t})]})},ee=function(e){return Object(T.jsxs)("div",{className:Q.a.friend,children:[Object(T.jsx)("div",{className:Q.a.imgProfilePhoto}),Object(T.jsx)("p",{className:Q.a.name,children:e.name})]})},te=function(e){return Object(T.jsxs)("aside",{className:Q.a.sidebar,children:[Object(T.jsx)("nav",{children:Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:Object(T.jsx)(W.b,{to:"/profile",activeClassName:Q.a.active,children:"Profile"})}),Object(T.jsx)("li",{children:Object(T.jsx)(W.b,{to:"/dialogs",activeClassName:Q.a.active,children:"Messages"})}),Object(T.jsx)("li",{children:Object(T.jsx)(W.b,{to:"/users",activeClassName:Q.a.active,children:"Users"})})]})}),Object(T.jsx)($,{friends:e.sidebar.friends})]})},se=Object(R.b)((function(e){return{sidebar:e.sidebar}}),(function(){return{}}))(te),ne=s(44),ae=s(45),re=s(47),ie=s(46),ce=s(26),oe=s.n(ce),le=s.p+"static/media/userPhoto.b89021c6.png",ue=s(27),de=s.n(ue),je=s(28),ge=s.n(je),pe=function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{className:ge.a.wrapper,children:Object(T.jsx)("div",{className:ge.a.ldsHourglass})})})},be=function(e){for(var t=e.users.map((function(t){return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:Object(T.jsx)("img",{src:null!==t.photos.small?t.photos.small:le,className:de.a.userPhoto,alt:"Avatar"})}),Object(T.jsx)("div",{children:t.followed?Object(T.jsx)("button",{onClick:function(){e.unfollow(t.id)},children:"Unfollow"}):Object(T.jsx)("button",{onClick:function(){e.follow(t.id)},children:"Follow"})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:t.name}),Object(T.jsx)("div",{children:t.status})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:"u.location.country"}),Object(T.jsx)("div",{children:"u.location.city"})]})]},t.id)})),s=[],n=1;n<=30;n++)s.push(n);return Object(T.jsxs)(T.Fragment,{children:[e.isFetching&&Object(T.jsx)(pe,{}),Object(T.jsxs)("div",{children:[s.map((function(t){return Object(T.jsxs)("span",{className:e.currentPage===t?de.a.selectedPage:"",onClick:function(){e.onPageChanged(t)},children:[t," "]})})),t]})]})},Oe=function(e){Object(re.a)(s,e);var t=Object(ie.a)(s);function s(){var e;Object(ne.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.setIsFetching(!0),oe.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){e.props.setIsFetching(!1),e.props.setUsers(t.data.items)}))},e}return Object(ae.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.setIsFetching(!0),oe.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.setIsFetching(!1),e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){return Object(T.jsx)(be,{users:this.props.users,currentPage:this.props.currentPage,pageSize:this.props.pageSize,totalCount:this.props.totalCount,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,isFetching:this.props.isFetching})}}]),s}(r.a.Component),he=Object(R.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalCount:e.usersPage.totalCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),(function(e){return{follow:function(t){e(function(e){return{type:n.FOLLOW,userID:e}}(t))},unfollow:function(t){e(function(e){return{type:n.UNFOLLOW,userID:e}}(t))},setUsers:function(t){var s;e((s=t,{type:n.SET_USERS,users:s}))},setCurrentPage:function(t){var s;e((s=t,{type:n.SET_CURRENT_PAGE,currentPage:s}))},setTotalUsersCount:function(t){e(function(e){return{type:n.SET_TOTAL_USERS_COUNT,totalCount:e}}(t))},setIsFetching:function(t){e(function(e){return{type:n.IS_FETCHING,isFetching:e}}(t))}}}))(Oe),fe=function(){return Object(T.jsx)(W.a,{children:Object(T.jsxs)("div",{className:"app_wrapper",children:[Object(T.jsx)(w,{}),Object(T.jsx)(se,{}),Object(T.jsxs)("div",{className:"app_wrapper_content",children:[Object(T.jsx)(z.a,{path:"/profile",render:function(){return Object(T.jsx)(G,{})}}),Object(T.jsx)(z.a,{path:"/dialogs",render:function(){return Object(T.jsx)(Z,{})}}),Object(T.jsx)(z.a,{path:"/users",render:function(){return Object(T.jsx)(he,{})}})]})]})})},me=function(){_.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(R.a,{store:m,children:Object(T.jsx)(fe,{})})}),document.getElementById("root"))};me(),m.subscribe((function(){me()})),i()}},[[78,1,2]]]);
//# sourceMappingURL=main.0c42cfa6.chunk.js.map