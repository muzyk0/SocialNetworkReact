(this["webpackJsonpsocial-network-react"]=this["webpackJsonpsocial-network-react"]||[]).push([[0],{11:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__BRHD6",dialogsItems:"Dialogs_dialogsItems__1aH1f",dialog:"Dialogs_dialog__1glHE",active:"Dialogs_active__3NWs5",messanges:"Dialogs_messanges__WVkjx"}},12:function(e,t,s){e.exports={sidebar:"Sidebar_sidebar__13B6p",active:"Sidebar_active__2WsD6",friendBlock:"Sidebar_friendBlock__2oXRU",friend:"Sidebar_friend__3Y_SH",name:"Sidebar_name__2Hl5y",imgProfilePhoto:"Sidebar_imgProfilePhoto__1UA-e"}},20:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__1qs7u",posts:"MyPosts_posts__tbkbY"}},27:function(e,t,s){e.exports={userPhoto:"UsersContainer_userPhoto__1HjXU",selectedPage:"UsersContainer_selectedPage__2syrM"}},38:function(e,t,s){e.exports={header:"Header_header__2x0-v"}},39:function(e,t,s){e.exports={profile:"Profile_profile__CiwxZ"}},40:function(e,t,s){e.exports={profile_logo:"ProfileLogo_profile_logo__1nkul"}},41:function(e,t,s){e.exports={profileData:"ProfileData_profileData__3_er9"}},42:function(e,t,s){e.exports={item:"Post_item__2q3Eb"}},48:function(e,t,s){},53:function(e,t,s){},77:function(e,t,s){"use strict";s.r(t),s.d(t,"rerenderEntireTree",(function(){return xe}));var n=s(0),a=s.n(n),r=(s(48),function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,78)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),r(e),c(e)}))}),c=s(16),i=s(15),o=s(3),l="ADD-POST",u="UPDATE-NEW-POST-TEXT",d={newPostText:"",posts:[{id:1,message:"Good this site",likesCount:10},{id:1,message:"Good this site",likesCount:10}]},j="SEND-MESSAGE",b="UPDATE_NEW_DIALOG_MESSAGE",g={newMessageBody:"",dialogs:[{id:1,name:"Dimych"},{id:2,name:"Nasty"},{id:3,name:"Vova"},{id:4,name:"Viktor"},{id:5,name:"Olya"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Dimych"}]},p={friends:[{id:1,name:"Dimych"},{id:2,name:"Nasty"},{id:3,name:"Vova"}]},f="FOLLOW",O="UNFOLLOW",h="SET_USERS",m="SET_CURRENT_PAGE",x="SET_TOTAL_USERS_COUNT",v={users:[],pageSize:10,totalCount:0,currentPage:1},_=Object(c.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var s={id:(new Date).getTime(),message:e.newPostText,likesCount:0},n=s.message;return n?Object(o.a)(Object(o.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[s]),newPostText:""}):e;case u:return Object(o.a)(Object(o.a)({},e),{},{newPostText:t.newText});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:var s={id:(new Date).getTime(),message:e.newMessageBody},n=e.newMessageBody.trim();return n?Object(o.a)(Object(o.a)({},e),{},{messages:[].concat(Object(i.a)(e.messages),[s]),newMessageBody:""}):e;case b:return Object(o.a)(Object(o.a)({},e),{},{newMessageBody:t.body});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return t.type,e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case O:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case h:return Object(o.a)(Object(o.a)({},e),{},{users:Object(i.a)(t.users)});case m:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case x:return Object(o.a)(Object(o.a)({},e),{},{totalCount:t.totalCount});default:return e}}}),P=Object(c.c)(_),w=s(18),y=s.n(w),C=(s(53),s.p+"static/media/logo.6ce24c58.svg"),N=s(38),S=s.n(N),T=s(1);var k=function(){return Object(T.jsx)("header",{className:S.a.header,children:Object(T.jsx)("img",{src:C,alt:""})})},D=s(39),E=s.n(D),M=s(40),U=s.n(M);var B=function(){return Object(T.jsx)("div",{className:U.a.profile_logo})},A=s(41),L=s.n(A),z=function(){return Object(T.jsx)("div",{className:L.a.profileData,children:Object(T.jsx)("img",{src:"https://d13ezvd6yrslxm.cloudfront.net/wp/wp-content/images/avatar-2-story.jpg",alt:"profile avatar"})})},I=s(20),H=s.n(I),F=s(42),W=s.n(F),G=function(e){return Object(T.jsxs)("div",{className:W.a.item,children:[Object(T.jsx)("img",{src:"https://d13ezvd6yrslxm.cloudfront.net/wp/wp-content/images/avatar-2-story.jpg",alt:"Logo with Profile"}),Object(T.jsx)("p",{children:e.message}),Object(T.jsxs)("p",{children:["Like ",e.likesCount]})]})},R=s(10),V=Object(R.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(){e({type:l})},updateNewPostText:function(t){e({type:u,newText:t})}}}))((function(e){var t=e.posts.map((function(e){return Object(T.jsx)(G,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return Object(T.jsxs)("div",{className:H.a.postsBlock,children:[Object(T.jsx)("h3",{children:"My Posts"}),Object(T.jsxs)("div",{className:H.a.new_post,children:[Object(T.jsx)("div",{children:Object(T.jsx)("textarea",{value:e.newPostText,onChange:function(t){var s=t.currentTarget.value;e.updateNewPostText(s)}})}),Object(T.jsx)("div",{children:Object(T.jsx)("button",{onClick:function(){e.addPost()},children:"Add post"})})]}),Object(T.jsx)("div",{className:H.a.posts,children:t})]})}));var X=function(){return Object(T.jsxs)("div",{className:E.a.profile,children:[Object(T.jsx)(B,{}),Object(T.jsx)(z,{}),Object(T.jsx)(V,{})]})},q=s(13),J=s(4),Y=s(11),Z=s.n(Y),K=function(e){var t="/dialogs/".concat(e.id);return Object(T.jsx)("div",{className:"".concat(Z.a.dialog),children:Object(T.jsx)(q.b,{to:t,activeClassName:Z.a.active,children:e.name})})},Q=function(e){return Object(T.jsx)("div",{className:Z.a.message,children:e.message})};var $=function(e){var t=e.dialogsPage,s=t.dialogs.map((function(e){return Object(T.jsx)(K,{name:e.name,id:e.id},e.id)})),n=t.messages.map((function(e){return Object(T.jsx)(Q,{message:e.message},e.id)})),a=t.newMessageBody;return Object(T.jsxs)("div",{className:Z.a.dialogs,children:[Object(T.jsx)("div",{className:Z.a.dialogsItems,children:s}),Object(T.jsxs)("div",{className:Z.a.messages,children:[n,Object(T.jsx)("div",{children:Object(T.jsx)("textarea",{placeholder:"Enter your message",value:a,onChange:function(t){var s=t.currentTarget.value;e.updateNewMessageBody(s)}})}),Object(T.jsx)("div",{children:Object(T.jsx)("button",{onClick:function(){e.onSendMessage()},children:"Send message"})})]})]})},ee=Object(R.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{onSendMessage:function(){e({type:j})},updateNewMessageBody:function(t){e({type:b,body:t})}}}))($),te=s(12),se=s.n(te),ne=function(e){var t=e.friends.map((function(e){return Object(T.jsx)(ae,{id:e.id,name:e.name},e.id)}));return Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Friends"}),Object(T.jsx)("div",{className:se.a.friendBlock,children:t})]})},ae=function(e){return Object(T.jsxs)("div",{className:se.a.friend,children:[Object(T.jsx)("div",{className:se.a.imgProfilePhoto}),Object(T.jsx)("p",{className:se.a.name,children:e.name})]})},re=function(e){return Object(T.jsxs)("aside",{className:se.a.sidebar,children:[Object(T.jsx)("nav",{children:Object(T.jsxs)("ul",{children:[Object(T.jsx)("li",{children:Object(T.jsx)(q.b,{to:"/profile",activeClassName:se.a.active,children:"Profile"})}),Object(T.jsx)("li",{children:Object(T.jsx)(q.b,{to:"/dialogs",activeClassName:se.a.active,children:"Messages"})}),Object(T.jsx)("li",{children:Object(T.jsx)(q.b,{to:"/users",activeClassName:se.a.active,children:"Users"})})]})}),Object(T.jsx)(ne,{friends:e.sidebar.friends})]})},ce=Object(R.b)((function(e){return{sidebar:e.sidebar}}),(function(){return{}}))(re),ie=s(43),oe=s(44),le=s(46),ue=s(45),de=s(26),je=s.n(de),be=s.p+"static/media/userPhoto.b89021c6.png",ge=s(27),pe=s.n(ge),fe=function(e){for(var t=e.users.map((function(t){return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:Object(T.jsx)("img",{src:null!==t.photos.small?t.photos.small:be,className:pe.a.userPhoto,alt:"Avatar"})}),Object(T.jsx)("div",{children:t.followed?Object(T.jsx)("button",{onClick:function(){e.unfollow(t.id)},children:"Unfollow"}):Object(T.jsx)("button",{onClick:function(){e.follow(t.id)},children:"Follow"})}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:t.name}),Object(T.jsx)("div",{children:t.status})]}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:"u.location.country"}),Object(T.jsx)("div",{children:"u.location.city"})]})]},t.id)})),s=(Math.ceil(e.totalCount/e.pageSize),[]),n=1;n<=30;n++)s.push(n);return Object(T.jsxs)("div",{children:[s.map((function(t){return Object(T.jsxs)("span",{className:e.currentPage===t?pe.a.selectedPage:"",onClick:function(){e.onPageChanged(t)},children:[t," "]})})),t]})},Oe=function(e){Object(le.a)(s,e);var t=Object(ue.a)(s);function s(){var e;Object(ie.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setCurrentPage(t),je.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){e.props.setUsers(t.data.items)}))},e}return Object(oe.a)(s,[{key:"componentDidMount",value:function(){var e=this;je.a.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){return Object(T.jsx)(fe,{users:this.props.users,currentPage:this.props.currentPage,pageSize:this.props.pageSize,totalCount:this.props.totalCount,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow})}}]),s}(a.a.Component),he=Object(R.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalCount:e.usersPage.totalCount,currentPage:e.usersPage.currentPage}}),(function(e){return{follow:function(t){e(function(e){return{type:f,userID:e}}(t))},unfollow:function(t){e(function(e){return{type:O,userID:e}}(t))},setUsers:function(t){e({type:h,users:t})},setCurrentPage:function(t){e({type:m,currentPage:t})},setTotalUsersCount:function(t){e(function(e){return{type:x,totalCount:e}}(t))}}}))(Oe),me=function(){return Object(T.jsx)(q.a,{children:Object(T.jsxs)("div",{className:"app_wrapper",children:[Object(T.jsx)(k,{}),Object(T.jsx)(ce,{}),Object(T.jsxs)("div",{className:"app_wrapper_content",children:[Object(T.jsx)(J.a,{path:"/profile",render:function(){return Object(T.jsx)(X,{})}}),Object(T.jsx)(J.a,{path:"/dialogs",render:function(){return Object(T.jsx)(ee,{})}}),Object(T.jsx)(J.a,{path:"/users",render:function(){return Object(T.jsx)(he,{})}})]})]})})},xe=function(){y.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(R.a,{store:P,children:Object(T.jsx)(me,{})})}),document.getElementById("root"))};xe(),P.subscribe((function(){xe()})),r()}},[[77,1,2]]]);
//# sourceMappingURL=main.6ffaebae.chunk.js.map